{{ define "main" }}
<!-- Hero Section -->
<section class="relative overflow-hidden mb-16 sm:mx-6 lg:mx-8 sm:rounded-2xl" style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.6) 100%); backdrop-filter: blur(10px); border: 1px solid rgba(127, 63, 245, 0.2);">
    <!-- Animated gradient background -->
    <div class="absolute inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 opacity-20 sm:rounded-2xl"></div>
    <div class="absolute inset-0 bg-gradient-to-tr from-blue-600 via-purple-500 to-pink-500 opacity-20 animate-pulse sm:rounded-2xl"></div>

    <div class="relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-14 md:py-16">
        <div class="text-center">
            <!-- Main heading -->
            <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 animate-in">
                <span class="bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent" style="line-height: 1.3; display: inline-block; padding-bottom: 0.2rem;">
                 {{ .Site.Title }}
                </span>
            </h1>

            <!-- Subtitle -->
            <p class="text-lg sm:text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
                {{ .Site.Params.description }}
            </p>

            <!-- Stats or features -->
            <div class="flex flex-wrap justify-center gap-6 sm:gap-8 mb-10">
                <div class="glass-card px-6 py-4 rounded-lg">
                    <div class="text-3xl font-bold text-purple-400">{{ len (where .Site.RegularPages "Type" "posts") }}</div>
                    <div class="text-sm text-gray-400 mt-1">Articles</div>
                </div>
                <div class="glass-card px-6 py-4 rounded-lg">
                    <div class="text-3xl font-bold text-pink-400">{{ len .Site.Taxonomies.categories }}</div>
                    <div class="text-sm text-gray-400 mt-1">Categories</div>
                </div>
                <div class="glass-card px-6 py-4 rounded-lg">
                    <div class="text-3xl font-bold text-blue-400">{{ len .Site.Taxonomies.tags }}</div>
                    <div class="text-sm text-gray-400 mt-1">Tags</div>
                </div>
            </div>

            <!-- CTA Button -->
            <div class="flex justify-center gap-4">
                <a href="#posts" class="inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg">
                    Explore Articles
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <!-- Decorative elements -->
    <div class="absolute top-10 left-10 w-20 h-20 bg-purple-500 rounded-full opacity-20 blur-3xl"></div>
    <div class="absolute bottom-10 right-10 w-32 h-32 bg-pink-500 rounded-full opacity-20 blur-3xl"></div>
</section>

<!-- Section title for posts -->
<div class="text-center mb-12" id="posts">
    <h2 class="text-3xl sm:text-4xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
        Latest Posts
    </h2>
</div>

<!-- Top Banner Ad -->
{{ partial "ad-banner.html" . }}

<!-- Posts Grid -->
<div class="posts-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "posts") }}
    {{ range $index, $post := $paginator.Pages }}
        {{ partial "post-card.html" $post }}
        
        <!-- Insert ad after every 6 posts -->
        {{ if and (gt $index 0) (eq (mod (add $index 1) 6) 0) }}
        <div class="col-span-full">
            {{ partial "ad-banner.html" $ }}
        </div>
        {{ end }}
    {{ end }}
    
    {{ if eq (len $paginator.Pages) 0 }}
    <div class="col-span-full text-center py-12">
        <p class="text-gray-400 text-lg">No posts found. Start creating your first post!</p>
    </div>
    {{ end }}
</div>

<!-- Pagination -->
{{ if gt $paginator.TotalPages 1 }}
    {{ partial "pagination.html" $paginator }}
{{ end }}
{{ end }}